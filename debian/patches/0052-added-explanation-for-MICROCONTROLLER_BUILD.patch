From 49cd0b3dc6f3582e63501c6514b8f44f7f070c0a Mon Sep 17 00:00:00 2001
From: drowe67 <david@rowetel.com>
Date: Sun, 14 Nov 2021 07:19:07 +1030
Subject: [PATCH 52/53] added explanation for MICROCONTROLLER_BUILD

---
 README.md | 14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

diff --git a/README.md b/README.md
index 73dd27bf..fc6612e8 100644
--- a/README.md
+++ b/README.md
@@ -236,12 +236,14 @@ Codec 2 can be added to the project in the following way.
      
 1. Add Codec 2 to the target_link_libraries in the same file.
 
-## Building Codec 2 for microcontrollers
+## Building Codec 2 for Microcontrollers
 
-Codec 2 can be run on certain microcontrollers (such as the IMRT1052 used in Teensy 4/4.1). This requires the 
-MICROCONTROLLER_BUILD option to be set in CMake during configuration in order to properly set compiler arguments.
-Additionally, defines should be added for the FreeDV/Codec2 modes to enable. If on ARM, using \_\_EMBEDDED\_\_ and
-also including the ARM CMSIS library will improve performance on ARM-based microcontrollers.
+Codec 2 requires a hardware Floating Point Unit (FPU) to run in real time.
+
+Two build options have been added to support building on microcontrollers:
+1. Setting the `cmake` variable MICROCONTROLLER_BUILD disables position independent code (-fPIC is not used).  This was required for the IMRT1052 used in Teensy 4/4.1).
+
+1. On ARM machines, setting the C Flag \_\_EMBEDDED\_\_ and linking with the ARM CMSIS library will improve performance on ARM-based microcontrollers.
 
 A CMakeLists.txt example for a microcontroller is below:
 
@@ -271,8 +273,6 @@ set(LPCNET OFF CACHE BOOL "")
 add_subdirectory(${codec2_SOURCE_DIR} ${codec2_BINARY_DIR} EXCLUDE_FROM_ALL)
 ```
 
-*Note: Codec 2 relies extensively on single-precision floating point. Use on a device without a FPU is thus not advised as performance will be degraded.*
-
 ## Building Debian packages
 
 To build Debian packages, simply run the "cpack" command after running "make". This will generate the following packages:
-- 
2.30.2

